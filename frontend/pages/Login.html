<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeBite - Authentication</title>
    <link rel="stylesheet" href="../assets/css/Login-assets/login.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js?render=6LehsL4rAAAAAJoPPIbOzI_M7vWu-bt1NoKq22Js"></script>
</head>
<body>
    <div class="App">
        <div class="login-container">
            <div class="login-card">
                <!-- Logo and Header -->
                <div class="logo-section">
                    <div class="logo-icon">
                        <span>S</span>
                    </div>
                    <h1 class="brand-name">SafeBite</h1>
                    <p class="welcome-text">Welcome back! Please sign in to continue.</p>
                </div>

                <!-- Login Form -->
                <div id="loginView" class="auth-view active">
                    <form class="login-form" id="loginForm">
                        <div class="input-group">
                            <label for="email">Email or Username</label>
                            <div class="input-field">
                                <i class="fas fa-user"></i>
                                <input type="text" id="email" name="email" placeholder="Enter your email or username" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="password">Password</label>
                            <div class="input-field">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="password" name="password" placeholder="Enter your password" required>
                                <button type="button" class="toggle-password" id="togglePassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="forgot-password">
                            <a href="#" class="forgot-link" onclick="handleNavigation('forgot')">Forgot your password?</a>
                        </div>

                        <button type="submit" class="signin-btn">
                            <span>Sign In</span>
                        </button>
                    </form>

                    <!-- Sign Up Link -->
                    <div class="signup-section">
                        <p>Don't have an account? <a href="#" class="signup-link" onclick="handleNavigation('signup')">Sign up here</a></p>
                    </div>
                </div>

                <!-- Signup Form -->
                <div id="signupView" class="auth-view">
                    <form class="signup-form" id="signupForm">
                        <!-- Stepper -->
                        <div class="stepper">
                            <div class="stepper-item active" data-step="1">
                                <div class="step-counter">1</div>
                                <div class="step-name">Basic</div>
                            </div>
                            <div class="stepper-item" data-step="2">
                                <div class="step-counter">2</div>
                                <div class="step-name">Details</div>
                            </div>
                            <div class="stepper-item" data-step="3">
                                <div class="step-counter">3</div>
                                <div class="step-name">Security</div>
                            </div>
                        </div>

                        <div class="signup-steps">
                            <!-- Step 1: Basic Info -->
                            <div class="step active" data-step="1">
                                <div class="input-group">
                                    <label for="signupFirstName">First Name</label>
                                    <div class="input-field">
                                        <i class="fas fa-user"></i>
                                        <input type="text" id="signupFirstName" name="first_name" placeholder="Enter your first name" required>
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label for="signupLastName">Last Name</label>
                                    <div class="input-field">
                                        <i class="fas fa-user"></i>
                                        <input type="text" id="signupLastName" name="last_name" placeholder="Enter your last name" required>
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label for="signupEmail">Email</label>
                                    <div class="input-field">
                                        <i class="fas fa-envelope"></i>
                                        <input type="email" id="signupEmail" name="email" placeholder="Enter your email" required>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Contact and Tester Type -->
                            <div class="step" data-step="2">
                                <div class="input-group">
                                    <label for="signupContactNumber">Contact Number</label>
                                    <div class="input-field">
                                        <i class="fas fa-phone"></i>
                                        <input type="text" id="signupContactNumber" name="contact_number" placeholder="Enter your contact number">
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label for="signupTesterType">Tester Type</label>
                                    <div class="input-field">
                                        <i class="fas fa-vials"></i>
                                        <select id="signupTesterType" name="tester_type_id">
                                            <option value="" disabled selected>Select Tester Type</option>
                                            <option value="1">Personal Tester</option>
                                            <option value="2">Canteen Tester</option>
                                            <option value="3">Restaurant Tester</option>
                                            <option value="4">Cafeteria Tester</option>
                                            <option value="5">Catering Tester</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Security -->
                            <div class="step" data-step="3">
                                <div class="input-group">
                                    <label for="signupPassword">Password</label>
                                    <div class="input-field">
                                        <i class="fas fa-lock"></i>
                                        <input type="password" id="signupPassword" name="password" placeholder="Create a password" required>
                                        <button type="button" class="toggle-password" id="toggleSignupPassword">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <!-- Password strength bar -->
                                    <div class="password-strength" style="margin-top:10px;">
                                        <div class="strength-label" id="passwordStrengthLabel">Weak</div>
                                        <div class="strength-track">
                                            <div class="strength-bar" id="passwordStrengthBar"></div>
                                        </div>
                                    </div>
                                    <!-- Password requirements checklist -->
                                    <div id="passwordRequirements" style="margin-top:8px; font-size:0.9rem; color:#b0b0b0; line-height:1.4;">
                                        <ul style="list-style:none; padding-left:0; margin:0;">
                                            <li id="req-length">• At least 8 characters</li>
                                            <li id="req-upper">• One uppercase letter (A-Z)</li>
                                            <li id="req-lower">• One lowercase letter (a-z)</li>
                                            <li id="req-number">• One number (0-9)</li>
                                            <li id="req-special">• One special character (!@#$%^&* etc.)</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label for="confirmPassword">Confirm Password</label>
                                    <div class="input-field">
                                        <i class="fas fa-lock"></i>
                                        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" required>
                                        <button type="button" class="toggle-password" id="toggleConfirmPassword">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- reCAPTCHA v3 Status Indicator -->
                                <div class="recaptcha-status-container" style="margin: 15px 0; padding: 12px; background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%); border-radius: 8px; border: 1px solid #3b82f6;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div id="recaptcha-icon" style="width: 20px; height: 20px; border-radius: 50%; background: #6b7280; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="color: #ffffff; font-weight: 600; font-size: 14px; margin-bottom: 2px;">
                                                Security Protection
                                            </div>
                                            <div id="recaptcha-status" style="color: #bfc9da; font-size: 12px;">
                                                Initializing reCAPTCHA v3...
                                            </div>
                                        </div>
                                        <div id="recaptcha-score" style="color: #10b981; font-weight: bold; font-size: 12px; display: none;">
                                            Score: --
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step Controls -->
                        <div class="step-controls">
                            <button type="button" id="signupPrevBtn" class="signin-btn" style="display:none; background:#9e9e9e;">
                                <span>Back</span>
                            </button>
                            <button type="button" id="signupNextBtn" class="signin-btn">
                                <span>Next</span>
                            </button>
                            <button type="submit" id="signupSubmitBtn" class="signin-btn" style="display:none;">
                                <span>Create Account</span>
                            </button>
                        </div>
                    </form>

                    <!-- Back to Login Link -->
                    <div class="signup-section">
                        <p>Already have an account? <a href="#" class="signup-link" onclick="handleNavigation('login')">Sign in here</a></p>
                    </div>
                </div>

                <!-- Forgot Password Form -->
                <div id="forgotView" class="auth-view">
                    <form class="forgot-form" id="forgotForm">
                        <div class="input-group">
                            <label for="forgotEmail">Email</label>
                            <div class="input-field">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="forgotEmail" name="email" placeholder="Enter your email address" required>
                            </div>
                        </div>

                        <button type="submit" class="signin-btn">
                            <span>Reset Password</span>
                        </button>
                    </form>

                    <!-- Back to Login Link -->
                    <div class="signup-section">
                        <p>Remember your password? <a href="#" class="signup-link" onclick="handleNavigation('login')">Sign in here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Toaster for notifications -->
    <div id="toaster" class="toaster"></div>

    <!-- Load API configuration first -->
    <script src="../assets/js/config/api-config.js"></script>
    <!-- Load login script after API config -->
    <script src="../assets/js/Login/login.js"></script>
</body>
</html>
